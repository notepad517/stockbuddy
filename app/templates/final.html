<!doctype html>
<html lang="en">

{%load static%}

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="" />
  <meta name="keywords" content="" />
  <meta name="author" content="Codescandy" />

  <!-- Favicon icon-->
  <link rel="shortcut icon" type="image/x-icon" href="{%static 'geeks/dist/assets/images/favicon/favicon.ico'%}" />

  <!-- darkmode js -->
  <script src="{%static 'geeks/dist/assets/js/vendors/darkMode.js'%}"></script>

  <!-- Libs CSS -->
  <link href="{%static 'geeks/dist/assets/fonts/feather/feather.css'%}" rel="stylesheet" />
  <link href="{%static 'geeks/dist/assets/libs/bootstrap-icons/font/bootstrap-icons.min.css'%}" rel="stylesheet" />
  <link href="{%static 'geeks/dist/assets/libs/simplebar/dist/simplebar.min.css'%}" rel="stylesheet" />

  <!-- Theme CSS -->
  <link rel="stylesheet" href="{%static 'geeks/dist/assets/css/theme.min.css'%}" />

  <link rel="canonical" href="https://geeksui.codescandy.com/geeks/index.html" />
  <link href="{%static 'geeks/dist/assets/libs/tiny-slider/dist/tiny-slider.css'%}" rel="stylesheet" />

  <script src="https://kit.fontawesome.com/1d9a14d3ec.js" crossorigin="anonymous"></script>

  <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>


  <!-- <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" /> -->
  <link href="https://fonts.googleapis.com/css?family=Montserrat" rel="stylesheet" />

  <!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" /> -->
  <!-- <link rel="stylesheet" href="{%static 'assets/styles.css'%}" /> -->

  <title>Stocks Buddy</title>
</head>

<body>
  <main>

    <nav class="navbar navbar-expand-lg">
      <div class="container-fluid px-0">
        <a class="navbar-brand" href="/" style="display: flex; align-items: center; justify-content: center;">
          <img src="{%static 'geeks/dist/assets/images/svg/graph.svg'%}" alt="Stocks" style="height: 50px;" />
          <p style="margin-top: 16px; margin-left: 10px; font-weight: 600;">Stocks Buddy</p>
        </a>
        <!-- Mobile view nav wrap -->
        <div class="ms-auto d-flex align-items-center order-lg-3">
          <div class="dropdown">
            <button class="btn btn-light btn-icon rounded-circle d-flex align-items-center" type="button" aria-expanded="false" data-bs-toggle="dropdown" aria-label="Toggle theme (auto)">
              <i class="bi theme-icon-active"></i>
              <span class="visually-hidden bs-theme-text">Toggle theme</span>
            </button>
            <ul class="dropdown-menu dropdown-menu-end shadow" aria-labelledby="bs-theme-text">
              <li>
                <button type="button" class="dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
                  <i class="bi theme-icon bi-sun-fill"></i>
                  <span class="ms-2">Light</span>
                </button>
              </li>
              <li>
                <button type="button" class="dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                  <i class="bi theme-icon bi-moon-stars-fill"></i>
                  <span class="ms-2">Dark</span>
                </button>
              </li>
              <li>
                <button type="button" class="dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
                  <i class="bi theme-icon bi-circle-half"></i>
                  <span class="ms-2">Auto</span>
                </button>
              </li>
            </ul>
          </div>
        </div>

        <!-- Collapse -->
        <div class="collapse navbar-collapse" id="navbar-default">
          <ul class="navbar-nav mt-3 mt-lg-0" style="gap: 16px;">
            <a href="/#trendingSection">Trending Stocks</a>
            <a href="/predict">Predictor</a>
            <a href="/#news">News Section</a>
            <a href="/allticket">All tickets</a>
          </ul>
          <form class="mt-3 mt-lg-0 ms-lg-3 d-flex align-items-center">
            <span class="position-absolute ps-3 search-icon">
              <i class="fe fe-search"></i>
            </span>
            <label for="search" class="visually-hidden"></label>
            <input type="search" id="search" class="form-control ps-6" placeholder="Search stocks" />
          </form>
        </div>
      </div>
    </nav>

    <main>
      <section class="pt-5 pb-5">
        <div class="container">
          <div class="row align-items-center">
            <!-- User info -->
            <div class="col-xl-12 col-lg-12 col-md-12 col-12">
              <!-- Bg -->
              <div class="rounded-top" style="background: url(" {% static 'geeks/dist/assets/images/background/profile-bg.jpg' %}") no-repeat center/cover; height: 100px;"></div>
              <div class="card px-4 pt-2 pb-4 shadow-sm rounded-top-0 rounded-bottom-0 rounded-bottom-md-2">
                <div class="d-flex align-items-end justify-content-between">
                  <div class="d-flex align-items-center">
                    <div class="me-2 position-relative d-flex justify-content-end align-items-end mt-n5">
                      <img src="{%static 'images/avtar.jpg'%}" class="avatar-xl rounded-circle border border-4 border-white position-relative" alt="avatar">
                      <a href="#" class="position-absolute top-0 end-0" data-bs-toggle="tooltip" data-placement="top" title="Verified">
                        <img src="{%static 'geeks/dist/assets/images/svg/checked-mark.svg'%}" alt="checked" height="30" width="30">
                      </a>
                    </div>
                    <div class="lh-1">
                      <h2 class="mb-0">Stock Buddy</h2>
                      <p class="mb-0 d-block">@stockbuddy</p>
                    </div>
                  </div>
                  <div>
                    <a href="/home" class="btn btn-primary d-none d-md-block">Visit Home</a>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Content -->

          <div class="row mt-0 mt-md-4">
            <div class="col-lg-3 col-md-4 col-12">
              <!-- Side navbar -->
              <nav class="navbar navbar-expand-md shadow-sm mb-4 mb-lg-0 sidenav">
                <a class="d-xl-none d-lg-none d-md-none text-inherit fw-bold" href="#">Menu</a>
                <button class="navbar-toggler d-md-none icon-shape icon-sm rounded bg-primary text-light" type="button" data-bs-toggle="collapse" data-bs-target="#sidenav" aria-controls="sidenav" aria-expanded="false" aria-label="Toggle navigation">
                  <span class="fe fe-menu"></span>
                </button>
                <div class="collapse navbar-collapse" id="sidenav">
                  <div class="navbar-nav flex-column">
                    <span class="navbar-header">Stock details</span>
                    <ul class="list-unstyled ms-n2 mb-0">
                      <li class="nav-item">
                        <a class="nav-link" href="">
                          <i class="fe fe-settings nav-icon"></i>
                          Symbol : {{Symbol}}
                        </a>
                      </li>
                      <li class="nav-item">
                        <a class="nav-link" href="">
                          <i class="fe fe-user nav-icon"></i>
                          Name : {{Name}}
                        </a>
                      </li>
                      <li class="nav-item">
                        <a class="nav-link" href="">
                          <i class="fe fe-refresh-cw nav-icon"></i>
                          Social Profiles
                        </a>
                      </li>
                      <li class="nav-item">
                        <a class="nav-link" href="">
                          <i class="fe fe-bell nav-icon"></i>
                          Last change: ${{Last_sale}}
                        </a>
                      </li>
                      <li class="nav-item">
                        <a class="nav-link" href="">
                          <i class="fe fe-lock nav-icon"></i>
                          Net change: $ {{Net_Change}}
                        </a>
                      </li>
                      <li class="nav-item">
                        <a class="nav-link" href="">
                          <i class="fe fe-trash nav-icon"></i>
                          Percentage change: {{Percentage_Change}}
                        </a>
                      </li>
                      <li class="nav-item">
                        <a class="nav-link" href="">
                          <i class="fe fe-power nav-icon"></i>
                          Market Capital : {{Market_cap}}
                        </a>
                      </li>

                      <li class="nav-item">
                        <a class="nav-link" href="">
                          <i class="fe fe-settings nav-icon"></i>
                          Country : {{Country}}
                        </a>
                      </li>
                      <li class="nav-item">
                        <a class="nav-link" href="">
                          <i class="fe fe-user nav-icon"></i>
                          IPO_Year : {{IPO_Year}}
                        </a>
                      </li>
                      <li class="nav-item">
                        <a class="nav-link" href="">
                          <i class="fe fe-bell nav-icon"></i>
                          Volume: {{Volume}}
                        </a>
                      </li>
                      <li class="nav-item">
                        <a class="nav-link" href="">
                          <i class="fe fe-lock nav-icon"></i>
                          Sector: {{Sector}}
                        </a>
                      </li>
                      <li class="nav-item">
                        <a class="nav-link" href="">
                          <i class="fe fe-trash nav-icon"></i>
                          Industry: {{Industry}}
                        </a>
                      </li>
                    </ul>
                  </div>
                </div>
              </nav>
            </div>
            <div class="col-lg-9 col-md-8 col-12">
              <!-- Card -->
              <div class="card mb-4">
                <!-- Card body -->
                <div class="card-body">
                  <h3 class="mb-0">Performance Metrics</h3>
                  <p class="mb-0">Detailed graph of the stock Performance is mentioned</p>

                  <div>
                    <div class="row sparkboxes mt-4">
                      <div class="col-md-3">
                        <div class="box box1">
                          <div class="details">
                            <h4>Net change</h4>
                          </div>
                          <div id="simple1"></div>
                        </div>
                      </div>
                      <div class="col-md-3">
                        <div class="box box2">
                          <div class="details">
                            <h4>Last sale</h4>
                          </div>
                          <div id="simple2"></div>
                        </div>
                      </div>
                      <div class="col-md-3">
                        <div class="box box3">
                          <div class="details">
                            <h4>IPO year</h4>
                          </div>
                          <div id="simple3"></div>
                        </div>
                      </div>
                      <div class="col-md-3">
                        <div class="box box4">
                          <div class="details">
                            <h4>Industry</h4>
                          </div>
                          <div id="simple4"></div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <!-- Card body -->
              <div class="card mb-4">
                <!-- Card header -->
                <div class="card-header d-flex justify-content-between align-items-center">
                  <h4 class="mb-0">Performance Graph</h4>
                  <!-- Dropdown -->
                  <div class="dropdown dropstart">
                    <a class="btn-icon btn btn-ghost btn-sm rounded-circle" href="#" role="button" id="paymentDropdown" data-bs-toggle="dropdown" aria-expanded="false">
                      <i class="fe fe-more-vertical"></i>
                    </a>
                    <div class="dropdown-menu dropdown-menu-end" aria-labelledby="paymentDropdown">
                      <span class="dropdown-header">Setting</span>
                      <a class="dropdown-item" href="#">30 Days</a>
                      <a class="dropdown-item" href="#">2 Months</a>
                    </div>
                  </div>
                </div>
                <!-- Card body -->
                <div class="card-body">
                  <div class="row">
                    <div class="col-xl-3 col-lg-4 col-md-12 col-12 mb-3 mb-lg-0">
                      <div>
                        <i class="fe fe-shopping-cart icon-shape icon-sm rounded-3 bg-light-success text-dark-success mt-2"></i>
                        <h3 class="display-4 fw-bold mt-3 mb-0">{{Volume}}</h3>
                        <span>Volume in stocks</span>
                        <hr class="my-4">
                        <div class="row">
                          <!-- Total earning chart -->
                          <div class="col ps-0">
                            <div id="totalEarning" class="apex-charts mt-n4 mb-n3"></div>
                          </div>
                          <div class="col-auto">
                            <span class="badge bg-success flex">
                              <i class="fe fe-trending-up fs-6 me-2"></i>
                              {{Net_Change}}
                            </span>
                          </div>
                        </div>
                        <p class="mb-0 lh-1.5">Performance recently</p>
                      </div>
                    </div>
                    <!-- Earning chart -->
                    <div class="col-xl-9 col-lg-8 col-md-12 col-12">
                      <!-- sahil -->
                      <div class="col-md-12">
                        <div class="box shadow mt-4">
                          <div id="linechart" class=""></div>
                        </div>
                      </div>
                    </div>
                    <div class="col-md-12">
                      <div class="box shadow mt-4">
                        <div id="areachart"></div>
                      </div>
                    </div>
                  </div>
                </div>
                <!-- Card body -->
                <div class="card-body">
                  <h3 class="mb-0">Models Performance</h3>
                  <p class="mb-0">Our Designed Models are performed with following accuracy</p>
                  <div class="flex">
                    <div>
                      Linear Regression : {{acc1}}
                    </div>
                    <div>
                      Svm Accuracy : {{acc2}}
                    </div>
                    <div>
                      Random Forest Accuracy : {{acc3}}
                    </div>
                  </div>
                </div>
              </div>


            </div>
          </div>
        </div>
      </section>
    </main>

  </main>
  <!-- Footer -->
  <!-- Footer -->
  <footer class="footer">
    <div class="container">
      <div class="row align-items-center g-0 border-top py-2">
        <!-- Desc -->
        <div class="col-md-6 col-12 text-center text-md-start">
          <span>
            ©
            <span id="copyright">
              <script>
                document.getElementById("copyright").appendChild(document.createTextNode(new Date().getFullYear()));
              </script>
            </span>
            Geeks. All Rights Reserved.
          </span>
        </div>
        <!-- Links -->
        <div class="col-12 col-md-6">
          <nav class="nav nav-footer justify-content-center justify-content-md-end">
            <a class="nav-link active ps-0" href="#!">Privacy</a>
            <a class="nav-link" href="#!">Terms</a>
            <a class="nav-link" href="#!">Feedback</a>
            <a class="nav-link" href="#!">Support</a>
          </nav>
        </div>
      </div>
    </div>

  </footer>

  <!-- Scroll top -->
  <div class="btn-scroll-top">
    <svg class="progress-square svg-content" width="100%" height="100%" viewBox="0 0 40 40">
      <path d="M8 1H32C35.866 1 39 4.13401 39 8V32C39 35.866 35.866 39 32 39H8C4.13401 39 1 35.866 1 32V8C1 4.13401 4.13401 1 8 1Z" />
    </svg>
  </div>

  <!-- Scripts -->

  <script>
    window.Apex = {
      chart: {
        foreColor: "#fff",
        toolbar: {
          show: false,
        },
      },
      stroke: {
        width: 3,
      },
      dataLabels: {
        enabled: false,
      },
      tooltip: {
        theme: "dark",
      },
      grid: {
        borderColor: "#535A6C",
        xaxis: {
          lines: {
            show: true,
          },
        },
      },
    };

    var spark1 = {
      chart: {
        id: "simple1",
        group: "sparks",
        type: "line",
        height: 80,
        sparkline: {
          enabled: true,
        },
        dropShadow: {
          enabled: true,
          top: 1,
          left: 1,
          blur: 2,
          opacity: 0.2,
        },
      },
      series: [{
        data: [25, 66, 41, 59, 25, 44, 12, 36, 9, 21],
      }, ],
      stroke: {
        curve: "smooth",
      },
      markers: {
        size: 0,
      },
      grid: {
        padding: {
          top: 20,
          bottom: 10,
          left: 110,
        },
      },
      colors: ["#fff"],
      tooltip: {
        x: {
          show: false,
        },
        y: {
          title: {
            formatter: function formatter(val) {
              return "";
            },
          },
        },
      },
    };

    var spark2 = {
      chart: {
        id: "simple2",
        group: "sparks",
        type: "line",
        height: 80,
        sparkline: {
          enabled: true,
        },
        dropShadow: {
          enabled: true,
          top: 1,
          left: 1,
          blur: 2,
          opacity: 0.2,
        },
      },
      series: [{
        data: [12, 14, 2, 47, 32, 44, 14, 55, 41, 69],
      }, ],
      stroke: {
        curve: "smooth",
      },
      grid: {
        padding: {
          top: 20,
          bottom: 10,
          left: 110,
        },
      },
      markers: {
        size: 0,
      },
      colors: ["#fff"],
      tooltip: {
        x: {
          show: false,
        },
        y: {
          title: {
            formatter: function formatter(val) {
              return "";
            },
          },
        },
      },
    };

    var spark3 = {
      chart: {
        id: "simple3",
        group: "sparks",
        type: "line",
        height: 80,
        sparkline: {
          enabled: true,
        },
        dropShadow: {
          enabled: true,
          top: 1,
          left: 1,
          blur: 2,
          opacity: 0.2,
        },
      },
      series: [{
        data: [47, 45, 74, 32, 56, 31, 44, 33, 45, 19],
      }, ],
      stroke: {
        curve: "smooth",
      },
      markers: {
        size: 0,
      },
      grid: {
        padding: {
          top: 20,
          bottom: 10,
          left: 110,
        },
      },
      colors: ["#fff"],
      xaxis: {
        crosshairs: {
          width: 1,
        },
      },
      tooltip: {
        x: {
          show: false,
        },
        y: {
          title: {
            formatter: function formatter(val) {
              return "";
            },
          },
        },
      },
    };

    var spark4 = {
      chart: {
        id: "simple4",
        group: "sparks",
        type: "line",
        height: 80,
        sparkline: {
          enabled: true,
        },
        dropShadow: {
          enabled: true,
          top: 1,
          left: 1,
          blur: 2,
          opacity: 0.2,
        },
      },
      series: [{
        data: [15, 75, 47, 65, 14, 32, 19, 54, 44, 61],
      }, ],
      stroke: {
        curve: "smooth",
      },
      markers: {
        size: 0,
      },
      grid: {
        padding: {
          top: 20,
          bottom: 10,
          left: 110,
        },
      },
      colors: ["#fff"],
      xaxis: {
        crosshairs: {
          width: 1,
        },
      },
      tooltip: {
        x: {
          show: false,
        },
        y: {
          title: {
            formatter: function formatter(val) {
              return "";
            },
          },
        },
      },
    };

    new ApexCharts(document.querySelector("#simple1"), spark1).render();
    new ApexCharts(document.querySelector("#simple2"), spark2).render();
    new ApexCharts(document.querySelector("#simple3"), spark3).render();
    new ApexCharts(document.querySelector("#simple4"), spark4).render();


    document.addEventListener("DOMContentLoaded", function() {
      // Retrieve the JSON data embedded by Django
      const predData = JSON.parse(document.getElementById('predData').textContent);
      const predData2 = JSON.parse(document.getElementById('predData2').textContent);
      const predData3 = JSON.parse(document.getElementById('predData3').textContent);
      var optionsLine = {
        chart: {
          height: 328,
          type: "line",
          zoom: {
            enabled: true,
          },
          dropShadow: {
            enabled: true,
            top: 3,
            left: 2,
            blur: 4,
            opacity: 1,
          },
        },
        stroke: {
          curve: "smooth",
          width: 2,
        },
        series: [{
            name: "Linear Regression",
            data: predData.Prediction
          },
          {
            name: "svm",
            data: predData2.Prediction,
          },
          {
            name: "Random forest",
            data: predData3.Prediction
          }
        ],
        markers: {
          size: 6,
          strokeWidth: 0,
          hover: {
            size: 9,
          },
        },
        grid: {
          show: true,
          padding: {
            bottom: 0,
          },
        },
        xaxis: {
          categories: predData.Date,
        },
        legend: {
          position: "top",
          horizontalAlign: "right",
          offsetY: -20,
        },
      };

      var optionsArea = {
        chart: {
          height: 380,
          type: "area",
          stacked: false,
        },
        series: [{
            name: "Linear Regression",
            data: predData.Prediction
          },
          {
            name: "svm",
            data: predData2.Prediction
          },
          {
            name: "Random Forest",
            data: predData3.Prediction
          }
        ],
        xaxis: {
          categories: predData.Date,
        },
        tooltip: {
          followCursor: true,
        },
        fill: {
          opacity: 1,
        },
      };

      var chart = new ApexCharts(document.querySelector("#areachart"), optionsArea);
      chart.render();
      var chartLine = new ApexCharts(
        document.querySelector("#linechart"),
        optionsLine
      );
      chartLine.render();
    });
  </script>
  {{ pred_dict|json_script:"predData" }}
  {{ pred_dict2|json_script:"predData2" }}
  {{ pred_dict3|json_script:"predData3" }}



  <script type="text/javascript">
    function LoadURL() {
      var ticker = document.getElementById("tickerinp").value;
      var days = document.getElementById("days").value;
      var server = window.location.origin;
      var path = "/predict/" + ticker + "/" + days;
      var url = server + path;
      window.location.href = url;
    }
  </script>

  <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.slim.min.js"></script>
  <script src="{%static 'assets/apexcharts.js'%}"></script> -->
  <script src="{%static 'assets/scripts.js'%}"></script>

  <script src="{%static 'geeks/dist/assets/libs/@popperjs/core/dist/umd/popper.min.js'%}"></script>
  <script src="{%static 'geeks/dist/assets/libs/bootstrap/dist/js/bootstrap.min.js'%}"></script>
  <script src="{%static 'geeks/dist/assets/libs/simplebar/dist/simplebar.min.js'%}"></script>

  <!-- Theme JS -->
  <script src="{%static 'geeks/dist/assets/js/theme.min.js'%}"></script>

  <script src="{%static 'geeks/dist/assets/libs/tiny-slider/dist/min/tiny-slider.js'%}"></script>

  <script src="{%static 'geeks/dist/assets/libs/tippy.js/dist/tippy-bundle.umd.min.js'%}"></script>
  <script src="{%static 'geeks/dist/assets/js/vendors/tnsSlider.js'%}"></script>
  <script src="{%static './assets/js/vendors/tooltip.js'%}"></script>


  <script src="{%static 'geeks/dist/assets/libs/apexcharts/dist/apexcharts.min.js'%}"></script>
  <script src="{%static 'geeks/dist/assets/js/vendors/chart.js'%}"></script>

</body>

</html>